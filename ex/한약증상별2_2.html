<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>증상 선택</title>
  <style>
    /* 스타일링을 위한 간단한 CSS */
    label {
      margin-right: 15px;
    }
    #prescriptions {
      margin-top: 15px;
    }
  </style>
</head>
<body>

<h2>증상 선택</h2>

<label>
  <input type="checkbox" id="symptomCough" onchange="updatePrescriptions()"> 기침
</label>

<label>
  <input type="checkbox" id="symptomRunnynose" onchange="updatePrescriptions()"> 콧물
</label>

<div id="prescriptions"></div>

<script>
  let data1 = "hb23, hb29, hb42, hb51, hb55, hb22";
  let data2 = "hb2, hb23, hb29, hb55, hb36, hb42";

  // 초기 상태에서 두 데이터의 교집합을 보여줌
  let set1 = new Set(data1.split(', '));
  let set2 = new Set(data2.split(', '));
  let intersectionArray = [...set1].filter(value => set2.has(value));
  let resultElement = document.getElementById('result');
  resultElement.textContent = intersectionArray.join(', ');

  function updatePrescriptions() {
    // 체크박스 상태 확인
    let symptomCoughChecked = document.getElementById('symptomCough').checked;
    let symptomRunnynoseChecked = document.getElementById('symptomRunnynose').checked;

    // 데이터를 필터링하여 중복된 값 추출
    let filteredData = [];

    if (symptomCoughChecked) {
      filteredData.push(...data1.split(', '));
    }

    if (symptomRunnynoseChecked) {
      filteredData.push(...data2.split(', '));
    }

    // 중복된 값 추출
    let setFilteredData = new set(filteredData);
    let prescriptionsArray = [...setFilteredData];

    // 결과를 HTML 문서에 삽입
    let prescriptionsElement = document.getElementById('prescriptions');
    prescriptionsElement.textContent = prescriptionsArray.join(', ');
  }
</script>

</body>
</html>