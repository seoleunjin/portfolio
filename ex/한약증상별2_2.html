<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>증상 선택</title>
  <style>
    /* 스타일링을 위한 간단한 CSS */
    label {
      margin-right: 15px;
    }
    #prescriptions {
      margin-top: 15px;
    }
  </style>
</head>
<body>

<h2>증상 선택</h2>

<label>
  <input type="checkbox" id="data1" onchange="updatePrescriptions()"> data1
</label>

<label>
  <input type="checkbox" id="data2" onchange="updatePrescriptions()"> data2
</label>

<div id="result"></div>

<script>
  function updatePrescriptions() {
    let data1 = "hb23, hb29, hb42, hb51, hb55, hb22";
    let data2 = "hb2, hb23, hb29, hb55, hb36, hb42";

    var data1Checked = document.getElementById('data1').checked;
    var data2Checked = document.getElementById('data2').checked;

    // 데이터를 쉼표로 분리하고 Set 객체를 사용하여 중복된 요소만 추출
    let set1 = new Set(data1.split(', '));
    let set2 = new Set(data2.split(', '));

    // 두 Set에 공통으로 존재하는 요소를 구하고 배열로 변환
    let intersectionArray = [...set1].filter(value => data2Checked ? set2.has(value) : false);

    let resultElement = document.getElementById('result');
    resultElement.textContent = intersectionArray.join(', ');
  }

  // 초기 로딩 시 호출
  updatePrescriptions();
</script>

</body>
</html>